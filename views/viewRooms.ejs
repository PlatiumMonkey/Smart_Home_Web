<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Room View</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/generation.css" />
    <link rel="stylesheet" href="css/viewRooms.css" />
  </head>
  <body>
    
    <div class="container">
      <aside class="sidebar">
        <!-- <div class="logo"><img src="./image/smart-house.png" alt="" /></div> -->
        <ul class="menu">
          <li>
            <a href="/home"
              >
              <div class="sidebar-button">
                <img src="./image/smart-house.png" alt="Smart-house Icon" />
              <div class="button-sidebar-name">Smart-house</div>
              </div>
              </a
            >
          </li>
          <li class="active" >
            <a href="/viewrooms">
              <div class="sidebar-button">
                <img src="./image/room.png" alt="" />
                <div class="button-sidebar-name">View Rooms</div>
              </div>
            </a>
          </li>
          <li>
            <a href="/devices"
              >
             <div class="sidebar-button">
              <img src="./image/device.png" alt="Device" />
              <div class="button-sidebar-name">Device</div>
             </div>
              </a
            >
          </li>
          <li>
            <a href="/statistics">
              <div class="sidebar-button">
                <img src="./image/statistic.png" alt="" />
                <div class="button-sidebar-name">Statistics</div>
              </div>
            </a>
          </li>
          <li>
            <a href="/accounts">
              <div class="sidebar-button">
                <img src="./image/member.png" alt="" />
                <div class="button-sidebar-name">Members</div>
              </div>
            </a>
          </li>
          <li>
            <a href="/rooms">
              <div class="sidebar-button">
                <img src="./image/door_small.png" alt="Member Icon"><div class="button-sidebar-name">Rooms</div>
              </div>
            </a>
          </li>
          
        </ul>
      </aside>
     

      
      <main class="content">
        <header class="header">
          <input type="text" placeholder="Search" class="search-bar" />
          <div class="header-icons">
            <span class="icon-settings"
              ><img src="./image/setting.png" alt=""
            /></span>
            <span class="icon-bell"><img src="/image/bell.png" alt="" /></span>
            <span class="icon-profile"
              ><img src="./image/myAccount.png" alt=""
            /></span>
          </div>
        </header>
        <section class="rooms">
          <div class="left-content">
            <h1 class="title">Kitchen</h1>

            <!-- Room Info -->
            <div class="info-section">
              <div class="info-card">
                <div class="card-header">
                  <h3>Room's Temperature</h3>
                </div>
                <div class="card-main">
                  <div class="left-card-content">
                    <p>+23.5<span>°C</span></p>
                    <!-- <p>74.4<span>°F</span></p> -->
                  </div>
                  <div class="right-card-content">
                    <img src="./image/temperature.png" alt="" />
                  </div>
                </div>
              </div>
              <div class="info-card">
                <div class="card-header">
                  <h3>Room's Humidity</h3>
                </div>
                <div class="card-main">
                  <div class="left-card-content">
                    <p>84.6<span>%</span></p>
                  </div>
                  <div class="right-card-content">
                    <img src="./image/humidity.png" alt="" />
                  </div>
                </div>
              </div>
              <div class="info-card">
                <div class="card-header">
                  <h3>Room's Lightning</h3>
                </div>
                <div class="card-main">
                  <div class="left-card-content">
                    <p>23.5<span>%</span></p>
                  </div>
                  <div class="right-card-content">
                    <img src="./image/lighting.png" alt="" />
                  </div>
                </div>
              </div>
            </div>

            <!-- Devices -->
            <div class="devices">
              <p>Devices</p>
              <div class="device-container">
                <!-- <div class="device-item" style="background-color: #ee777f">
                  <img src="./image/fan.png" alt="" />Fridge
                </div>
                <div class="device-item" style="background-color: #65bdc0">
                  <img src="./image/kettle.svg" alt="" />Kettle
                </div>
                <div class="device-item" style="background-color: #ee777f">
                  <img src="./image/light-bulb.png" alt="" />Stove
                </div>
                <div class="device-item" style="background-color: #65bdc0">
                  <img src="./image/dishwasher.svg" alt="" />Dishwasher
                </div>
                <div class="device-item" style="background-color: #ee777f">
                  <img src="./image/multicooker.svg" alt="" />Multicooker
                </div>
                <div class="device-item" style="background-color: #65bdc0">
                  <img src="./image/tv.svg" alt="" />TV
                </div>
                <div class="device-item" style="background-color: #ee777f">
                  <img src="./image/tv.svg" alt="" />Microwave
                </div>
                <div class="device-item" style="background-color: #65bdc0">
                  <img src="./image/tv.svg" alt="" />Indoor Grill
                </div>
                <div class="device-item" style="background-color: #ee777f">
                  <img src="./image/tv.svg" alt="" />Microwave
                </div>
                <div class="device-item" style="background-color: #65bdc0">
                  <img src="./image/tv.svg" alt="" />Indoor Grill
                </div> -->
                <% if (rooms.numberDevices === 0) { %>
                <p>No device found.</p>
                <% } %> 
                <% devicesInRoom.forEach(device => { %>
                <div class="device-item" deviceid="<%=device.id%>" status="<%=device.status%>" onclick="controlDevice('<%=device.id%>')" <%if (device.status === 1){%>
                  style="background-color: #ee777f"
                  <%}else{%>
                    style="background-color: #65bdc0"
                    <%}%>>
                  <img src="./image/<%=device.id%>.png" alt=" " /><%=device.name%>
                </div>
                <% }); %>
              </div>
            </div>
          </div>
          <div class="right-content">
            <div class="rooms-buttons">
    
              <% if (rooms.length === 0) { %>
                <p>No members found.</p>
            <% } else { %>
                <% rooms.forEach((room, index) => { %>
                    <div class="room-button" roomid="<%= room.id %>" onclick="changeRoom('<%= room.id %>')" 
                        style="background-color: <%= index === 0 ? '#ee777f' : '#65bdc0' %>;">
                        <div class="inside-room-button">
                            <% if (room.id == 1) { %>
                                <img src="./image/livingroom.svg" alt="" />
                            <% } else if (room.id == 2) { %>
                                <img src="./image/bedroom.svg" alt="" />
                            <% } else if (room.id == 3) { %>
                                <img src="./image/kitchen.png" alt="" />
                            <% } else { %>
                                <img src="./image/bathroom.svg" alt="" />
                            <% } %>
                            <p><%= room.name %></p>
                        </div>
                    </div>
                <% }) %>
            <% } %>
            </div>
          </div>
        </section>
      </main>
    </div>
    <script src="js/viewRoom.js" ></script>
  </body>
</html>
